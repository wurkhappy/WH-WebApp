define(["backbone","handlebars","underscore","marionette","text!templates/agreement/edit/payment_item_tpl.html","views/agreement/edit/scope_item_view"],function(e,t,n,r,i,s){var o=e.Marionette.CompositeView.extend({template:t.compile(i),itemView:s,itemViewContainer:".scope_items_container",initialize:function(){this.collection=this.model.get("scopeItems")},events:{"blur .amount":"updateAmount","blur .title":"updateTitle","click .removeButton":"removeMilestone","keypress .edit_work_item":"addScopeItem"},updateAmount:function(e){var t=e.target.value;console.log(t);var n=t.substring(0,1)==="$"?t.substring(1):t;console.log(n),this.model.set("amount",n)},updateTitle:function(e){this.model.set("title",e.target.value)},removeMilestone:function(){this.model.collection.remove(this.model)},addScopeItem:function(e){e.keyCode==13&&(this.collection.add({text:e.target.value}),e.target.value=null)}});return o});