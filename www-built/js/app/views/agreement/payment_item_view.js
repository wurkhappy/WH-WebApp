define(["backbone","handlebars","underscore","marionette","text!templates/agreement/payment_item_tpl.html","views/agreement/scope_item_view"],function(e,t,n,r,i,s){t.registerHelper("dateFormat",function(e){return e.format("MMM D, YYYY")});var o=e.Marionette.CompositeView.extend({template:t.compile(i),itemView:s,itemViewContainer:".scope_items_container",initialize:function(e){this.collection=this.model.get("scopeItems"),this.userIsClient=e.userIsClient,this.listenTo(this.model,"change",this.checkStatus)},onRender:function(){this.checkStatus()},checkStatus:function(){var e=this.model.get("currentStatus");if(!e)return;switch(e.get("action")){case e.StatusSubmitted:this.submittedState();break;case e.StatusAccepted:this.acceptedState();break;default:}},submittedState:function(){this.$(".paymentStatus").html('<span class="payment_status">Payment Pending</span>')},acceptedState:function(){this.$(".paymentStatus").html('<span class="payment_status">Payment Made</span>')}});return o});