define(["backbone","handlebars","views/agreement/read/header_states/base_state"],function(e,t,n){var r=n.extend({initialize:function(){n.prototype.initialize.apply(this),this.button1Title=this.userIsClient?null:"Submit Agreement",this.button2Title=this.userIsClient?null:"Edit Draft"},button1:function(e){this.model.set("draft",!1),this.model.save({},{success:_.bind(function(e,t){$(".notification_container").fadeIn("fast");var n=function(){window.location="/home"},r=_.debounce(n,800);this.model.submit(r)},this)})},button2:function(e){this.model.set("draft",!0),this.model.save({},{success:function(e,t){var n=function(){$("#overlay").fadeOut("fast")},r=function(){$(".notification_container").fadeIn("fast"),$(".notification_text").text("Draft saved")};$(".notification_container").hover(function(){$(".notification_container").fadeOut("fast")});var i=_.debounce(r,300);n(),i(),window.location="/home"}})}});return r});