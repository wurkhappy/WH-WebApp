define(["backbone","handlebars","text!templates/agreement/reject_tpl.html"],function(e,t,n){var r=e.View.extend({template:t.compile(n),initialize:function(e){this.otherUser=e.otherUser,this.render()},render:function(){this.$el.html(this.template({status:this.statusType,otherUser:this.otherUser}))},events:{"click #reject-button":"rejectRequest","blur textarea":"addMessage"},addMessage:function(e){this.message=e.target.value},rejectRequest:function(e){this.model.reject(this.message,_.bind(function(){this.trigger("hide")},this));var t;this.statusType?t=this.statusType:t="";var n=function(){$(".notification_container").fadeIn("fast"),$(".notification_text").text("Request "+t+" and email sent")};$(".notification_container").hover(function(){$(".notification_container").fadeOut("fast")});var r=_.debounce(n,300);this.trigger("hide"),r()}});return r});