define(["backbone","handlebars","parsley","text!templates/landing/forgot_password.html","models/user"],function(e,t,n,r,i){var s=e.View.extend({template:t.compile(r),events:{"blur input":"updateModel","click input[type=submit]":"submitModel","keypress input":"submitOnEnter"},initialize:function(){this.render(),this.user={}},render:function(){return $(this.el).html(this.template()),this},updateModel:function(e){this.user[e.target.name]=e.target.value},submitOnEnter:function(e){if(e.keyCode!=13)return;this.updateModel(e),this.submitModel(e)},submitModel:function(e){e.preventDefault(),e.stopPropagation(),$.ajax({type:"POST",url:"/password/forgot",contentType:"application/json",dataType:"json",data:JSON.stringify(this.user),success:_.bind(function(e){this.$("form").html("Please check your e-mail to renew your password.")},this)})}});return s});